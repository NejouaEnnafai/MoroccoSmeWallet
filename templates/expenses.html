{% extends "base.html" %}

{% block title %}{{ get_text('expenses') }}{% endblock %}

{% block content %}
<div class="container">
    <div class="expenses-page glassmorphism">
        <h1>{{ get_text('expenses') }}</h1>
        
        <!-- Formulaire d'ajout de dépense -->
        <div class="expense-form glassmorphism">
            <h2>{{ get_text('add_expense') }}</h2>
            <form id="expense-form" enctype="multipart/form-data">
                <div class="form-group">
                    <label for="expense-amount">{{ get_text('amount') }}</label>
                    <input type="number" id="expense-amount" name="amount" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="expense-category">{{ get_text('category') }}</label>
                    <select id="expense-category" name="category" required>
                        <option value="Matériel">{{ get_text('equipment') }}</option>
                        <option value="Marketing">{{ get_text('marketing') }}</option>
                        <option value="Services">{{ get_text('services') }}</option>
                        <option value="Salaires">{{ get_text('salaries') }}</option>
                        <option value="Transport">{{ get_text('transport') }}</option>
                        <option value="Autres">{{ get_text('other') }}</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="expense-description">{{ get_text('description') }}</label>
                    <input type="text" id="expense-description" name="description" required>
                </div>
                
                <div class="form-group">
                    <label for="expense-date">{{ get_text('date') }}</label>
                    <input type="date" id="expense-date" name="date" required>
                </div>
                
                <div class="form-group">
                    <label for="expense-receipt">{{ get_text('receipt') }}</label>
                    <input type="file" id="expense-receipt" name="receipt" accept="image/*">
                </div>
                
                <button type="submit" class="submit-btn">{{ get_text('save') }}</button>
            </form>
        </div>

        <!-- Liste des dépenses -->
        <div class="expense-list glassmorphism">
            <h2>{{ get_text('expense_list') }}</h2>
            <table id="expenses-table">
                <thead>
                    <tr>
                        <th>{{ get_text('date') }}</th>
                        <th>{{ get_text('category') }}</th>
                        <th>{{ get_text('description') }}</th>
                        <th>{{ get_text('amount') }}</th>
                        <th>{{ get_text('actions') }}</th>
                    </tr>
                </thead>
                <tbody id="expenses-body"></tbody>
            </table>
        </div>
    </div>
</div>

<!-- Notification -->
<div id="notification" class="notification"></div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/expenses.js') }}"></script>
{% endblock %}
